<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Tsinjo - Historique</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
</head>
<body class="container py-4">
<h1>Tsinjo — Historique (profil: <span th:text="${#httpServletRequest.getServletContext().getInitParameter('spring.profiles.active')}">?</span>)</h1>

<div class="card mb-4">
    <div class="card-body">
        <h5>Faire un don</h5>
        <form th:action="@{/donate}" method="post" th:object="${donationForm}">
            <div class="row">
                <div class="col"><input th:field="*{email}" placeholder="Email" class="form-control" required/></div>
                <div class="col"><input th:field="*{fullName}" placeholder="Nom complet" class="form-control" required/></div>
                <div class="col"><input th:field="*{amount}" type="number" step="0.01" placeholder="Montant" class="form-control" required/></div>
                <div class="col"><input th:field="*{method}" placeholder="Moyen (CARD/BANK/...)" class="form-control" required/></div>
                <div class="col"><button class="btn btn-primary">Envoyer</button></div>
            </div>
        </form>
    </div>
</div>

<h3>Dons</h3>
<ul class="list-group mb-4">
    <li class="list-group-item" th:each="d : ${donations}">
        <b th:text="${d.donor.fullName}">Donor</b> —
        <span th:text="${d.payment.amount}">amount</span> €
        (<span th:text="${d.payment.status}">status</span>)
        <div><small th:text="${d.payment.date}"></small></div>
    </li>
</ul>

<h3>Aides</h3>
<ul class="list-group">
    <li class="list-group-item" th:each="h : ${helps}">
        <b th:text="${h.beneficiary.fullName}">Benef</b> —
        <span th:text="${h.payment.amount}">amount</span> €
        <div th:text="${h.description}"></div>
    </li>
</ul>
</body>
</html>
